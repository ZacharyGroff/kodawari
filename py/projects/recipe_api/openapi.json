{"openapi":"3.0.2","info":{"title":"Kodawari Recipe API","description":"Provides CRUD routes for managing RecipeSchema and VariationSchema objects.","version":"0.1.0"},"paths":{"/health":{"get":{"summary":"Health","description":"Retrieves the health status of the API.\n\nReturns:\n    A string of \"healthy\" if the API is healthy.","operationId":"get_health","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"title":"Response Get Health","type":"string"}}}}}}},"/recipe/{id}":{"get":{"summary":"Get Recipe","description":"Retrieves a recipe.\n\nArgs:\n    id: The identifier for the requested Recipe resource.\nReturns:\n    A RecipeSchema, containing the requested Recipe data.\nRaises:\n    HTTPException: The requested Recipe resource could not be retrieved.","operationId":"get_recipe","parameters":[{"required":true,"schema":{"title":"Id","type":"integer"},"name":"id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Recipe","description":"Deletes a recipe.\n\nDeletes a Recipe resource using the provided id after verifying ownership with the id from bearer_claims.\n\nArgs:\n    id: The identifier for the recipe to delete.\n    bearer_claims: The claims included on the Bearer token in the request.\nRaises:\n    HTTPException: The request is not authorized.","operationId":"delete_recipe","parameters":[{"required":true,"schema":{"title":"Id","type":"integer"},"name":"id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"patch":{"summary":"Patch Recipe","description":"Patches a Recipe.\n\nPatches a Recipe and sets the Location header to the modified resource path, using the ID retrieved from bearer_claims and properties defined in the recipe_patch_request.\n\nArgs:\n    id: The requested variation to patch.\n    response: The FastAPI response class used for setting the Location header of the modified resource path.\n    recipe_patch_request: The Recipe resource properties to update.\n    bearer_claims: The claims included on the Bearer token in the request.\nRaises:\n    HTTPException: The request is not authorized.","operationId":"patch_recipe","parameters":[{"required":true,"schema":{"title":"Id","type":"integer"},"name":"id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipePatchRequest"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/recipe":{"post":{"summary":"Post Recipe","description":"Creates a Recipe.\n\nCreates a recipe and sets the Location header to the created resource path, using properties defined in the recipe_create_request, a generated id, and a unix timestamp.\n\nArgs:\n    response: The FastAPI response class used for setting the Location header of the created resource path.\n    recipe_create_request: The RecipeSchema properties to set on the created resource.","operationId":"create_recipe","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/RecipeCreateRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/variation/{id}":{"get":{"summary":"Get Variation","description":"Retrieves a variation.\n\nArgs:\n    id: The identifier for the requested Variation resource.\nReturns:\n    A VariationSchema, containing the requested Variation data.\nRaises:\n    HTTPException: The requested Variation resource could not be retrieved.","operationId":"get_variation","parameters":[{"required":true,"schema":{"title":"Id","type":"integer"},"name":"id","in":"path"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/VariationSchema"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"summary":"Delete Variation","description":"Deletes a Variation.\n\nDeletes a Variation resource using the provided id after verifying ownership with the id from bearer_claims.\n\nArgs:\n    id: The identifier for the variation to delete.\n    bearer_claims: The claims included on the Bearer token in the request.\nRaises:\n    HTTPException: The request is not authorized.","operationId":"delete_variation","parameters":[{"required":true,"schema":{"title":"Id","type":"integer"},"name":"id","in":"path"}],"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]},"patch":{"summary":"Patch Variation","description":"Patches a Variation.\n\nPatches a Variation and sets the Location header to the modified resource path, using the ID retrieved from bearer_claims and properties defined in the variation_patch_request.\n\nArgs:\n    id: The requested variation to patch.\n    response: The FastAPI response class used for setting the Location header of the modified resource path.\n    variation_patch_request: The variation resource properties to update.\n    bearer_claims: The claims included on the Bearer token in the request.\nRaises:\n    HTTPException: The request is not authorized.","operationId":"patch_variation","parameters":[{"required":true,"schema":{"title":"Id","type":"integer"},"name":"id","in":"path"}],"requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VariationPatchRequest"}}},"required":true},"responses":{"204":{"description":"Successful Response"},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/variation":{"post":{"summary":"Post Variation","description":"Creates a Variation.\n\nCreates a Variation and sets the Location header to the created resource path, using properties defined in the variation_create_request, a generated id, and a unix timestamp.\n\nArgs:\n    response: The FastAPI response class used for setting the Location header of the created resource path.\n    variation_create_request: The VariationSchema properties to set on the created resource.\nRaises:\n    HTTPException: A recipe with the recipe_id in the request was not found.","operationId":"create_variation","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/VariationCreateRequest"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}}},"components":{"schemas":{"HTTPValidationError":{"title":"HTTPValidationError","type":"object","properties":{"detail":{"title":"Detail","type":"array","items":{"$ref":"#/components/schemas/ValidationError"}}}},"RecipeCreateRequest":{"title":"RecipeCreateRequest","required":["name"],"type":"object","properties":{"name":{"title":"Name","maxLength":100,"type":"string","description":"The user provided name for a recipe"},"description":{"title":"Description","maxLength":1000,"type":"string","description":"The user provided description for the unique characteristics that define this recipe","default":""}},"description":"The required request body for creating a RecipeSchema object.\n\nAttributes:\n    name: The user provided name for a recipe\n    description: The user provided description for the unique characteristics that define this recipe"},"RecipePatchRequest":{"title":"RecipePatchRequest","type":"object","properties":{"name":{"title":"Name","maxLength":100,"type":"string","description":"The user provided name for a recipe"},"description":{"title":"Description","maxLength":1000,"type":"string","description":"The user provided description for the unique characteristics that define this recipe"}},"description":"The required request body for patching a RecipeSchema object.\n\nAttributes:\n    name: The user provided name for a recipe\n    description: The user provided description for the unique characteristics that define this recipe"},"RecipeSchema":{"title":"RecipeSchema","required":["id","author_id","created_at","name","description"],"type":"object","properties":{"id":{"title":"Id","exclusiveMinimum":0.0,"type":"integer","description":"The unique identifier for a recipe"},"author_id":{"title":"Author Id","exclusiveMinimum":0.0,"type":"integer","description":"The unique identifer for the author of a recipe"},"created_at":{"title":"Created At","exclusiveMaximum":9999999999999.0,"exclusiveMinimum":1674484829053.0,"type":"integer","description":"The resource creation time, expressed as a unix timestamp in milliseconds"},"name":{"title":"Name","maxLength":100,"type":"string","description":"The user provided name for a recipe"},"description":{"title":"Description","maxLength":1000,"type":"string","description":"The user provided description for the unique characteristics that define this recipe"},"views":{"title":"Views","exclusiveMinimum":-1.0,"type":"integer","description":"The number of times the recipe has been viewed","default":0},"subscribers":{"title":"Subscribers","exclusiveMinimum":-1.0,"type":"integer","description":"The number of users subscribed to this recipe","default":0},"vote_diff":{"title":"Vote Diff","type":"integer","description":"The differential of upvotes minus downvotes for the recipe","default":0}},"description":"A base recipe.\n\nAttributes:\n    id: The unique identifier for a recipe\n    recipe_id: The unique identifer for the author of a recipe\n    created_at: The resource creation time, expressed as a unix timestamp in milliseconds\n    name: The user provided name for a recipe\n    description: The user provided description for the unique characteristics that define this recipe\n    views: The number of times the recipe has been viewed\n    subscribers: The number of users subscribed to this recipe_id\n    vote_diff: The differential of upvotes minus downvotes for the recipe"},"ValidationError":{"title":"ValidationError","required":["loc","msg","type"],"type":"object","properties":{"loc":{"title":"Location","type":"array","items":{"anyOf":[{"type":"string"},{"type":"integer"}]}},"msg":{"title":"Message","type":"string"},"type":{"title":"Error Type","type":"string"}}},"VariationCreateRequest":{"title":"VariationCreateRequest","required":["recipe_id","name"],"type":"object","properties":{"recipe_id":{"title":"Recipe Id","exclusiveMinimum":0.0,"type":"integer","description":"The unique identifier for a recipe"},"name":{"title":"Name","maxLength":100,"type":"string","description":"The user provided name for a variation"},"ingredients":{"title":"Ingredients","maxLength":50,"type":"array","items":{"maxLength":50,"type":"string"},"description":"The ingredients used in the variation","default":[]},"process":{"title":"Process","maxLength":1000,"type":"string","description":"A description of the steps taken to produce the variation","default":""},"notes":{"title":"Notes","maxLength":1000,"type":"string","description":"A description of how the variation tastes, smells, and/or looks in comparison to the base recipe","default":""}},"description":"The required request body for creating a VariationSchema object.\n\nAttributes:\n    recipe_id: The unique identifer for the recipe\n    name: The user provided name for a variation\n    ingredients: The ingredients used in the variation\n    process: A description of the steps taken to produce the variation\n    notes: A description of how the variation tastes, smells, and/or looks in comparison to the base recipe"},"VariationPatchRequest":{"title":"VariationPatchRequest","type":"object","properties":{"name":{"title":"Name","maxLength":100,"type":"string","description":"The user provided name for a variation"},"ingredients":{"title":"Ingredients","maxLength":50,"type":"array","items":{"maxLength":50,"type":"string"},"description":"The ingredients used in the variation"},"process":{"title":"Process","maxLength":1000,"type":"string","description":"A description of the steps taken to produce the variation"},"notes":{"title":"Notes","maxLength":1000,"type":"string","description":"A description of how the variation tastes, smells, and/or looks in comparison to the base recipe"}},"description":"The required request body for patching a VariationSchema object.\n\nAttributes:\n    name: The user provided name for a variation\n    ingredients: The ingredients used in the variation\n    process: A description of the steps taken to produce the variation\n    notes: A description of how the variation tastes, smells, and/or looks in comparison to the base recipe"},"VariationSchema":{"title":"VariationSchema","required":["id","author_id","created_at","recipe_id","name"],"type":"object","properties":{"id":{"title":"Id","exclusiveMinimum":0.0,"type":"integer","description":"The unique identifier for a variation"},"author_id":{"title":"Author Id","exclusiveMinimum":0.0,"type":"integer","description":"The unique identifer for the variation of a recipe"},"created_at":{"title":"Created At","exclusiveMaximum":9999999999999.0,"exclusiveMinimum":1674484829053.0,"type":"integer","description":"The resource creation time, expressed as a unix timestamp in milliseconds"},"recipe_id":{"title":"Recipe Id","exclusiveMinimum":0.0,"type":"integer","description":"The unique identifier for a recipe"},"name":{"title":"Name","maxLength":100,"type":"string","description":"The user provided name for a variation"},"ingredients":{"title":"Ingredients","maxLength":50,"type":"array","items":{"maxLength":50,"type":"string"},"description":"The ingredients used in the variation","default":[]},"process":{"title":"Process","maxLength":1000,"type":"string","description":"A description of the steps taken to produce the variation","default":""},"notes":{"title":"Notes","maxLength":1000,"type":"string","description":"A description of how the variation tastes, smells, and/or looks in comparison to the base recipe","default":""},"views":{"title":"Views","exclusiveMinimum":-1.0,"type":"integer","description":"The number of times the variation has been viewed","default":0},"vote_diff":{"title":"Vote Diff","type":"integer","description":"The differential of upvotes minus downvotes for the variation","default":0}},"description":"A variation of a base recipe.\n\nAttributes:\n    id: The unique identifier for a variation\n    author_id: The unique identifer for the author of a recipe\n    created_at: The resource creation time, expressed as a unix timestamp in milliseconds\n    recipe_id: The unique identifer for the recipe\n    name: The user provided name for a variation\n    ingredients: The ingredients used in the variation\n    process: A description of the steps taken to produce the variation\n    notes: A description of how the variation tastes, smells, and/or looks in comparison to the base recipe\n    views: The number of times the recipe has been viewed\n    vote_diff: The differential of upvotes minus downvotes for the recipe"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}}}